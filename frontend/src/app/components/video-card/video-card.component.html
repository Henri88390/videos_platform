<div class="video-card" (click)="selectVideo()">
  <div class="video-thumbnail">
    <!-- Video Preview (when enabled) -->
    <video
      *ngIf="showPreview"
      class="video-preview"
      [src]="getVideoStreamUrl(video.id)"
      muted
      loop
      preload="metadata"
      (mouseenter)="startPreview($event)"
      (mouseleave)="stopPreview($event)"
      (loadeddata)="onVideoLoaded($event)"
      (error)="onVideoError($event)"
    ></video>

    <!-- Static Thumbnail (when previews are disabled) -->
    <div *ngIf="!showPreview" class="static-thumbnail">
      <div class="video-icon">🎬</div>
      <div class="video-format">{{ getVideoFormat() }}</div>
    </div>

    <div class="play-overlay">
      <div class="play-icon">▶️</div>
    </div>
    <div class="video-info-overlay">
      <span class="duration">{{ getFormatDuration(video.duration) }}</span>
      <span class="file-size">{{ getFormatFileSize(video.size) }}</span>
    </div>
  </div>

  <div class="video-details">
    <h3 class="video-title">{{ video.title }}</h3>
    <div class="video-metadata">
      <span class="date">📅 {{ video.createdAt | date : "short" }}</span>
    </div>
  </div>
</div>
