<div class="video-list-container">
  <div class="header">
    <h1>🎬 Video Library</h1>
    <div class="header-actions">
      <button class="upload-btn" (click)="goToUpload()">
        <span class="upload-icon">📤</span>
        Upload Videos
      </button>
      <button
        class="refresh-btn"
        (click)="refreshVideos()"
        [disabled]="loading"
      >
        <span class="refresh-icon">🔄</span>
        Refresh
      </button>
      <div class="preview-toggle-container">
        <label class="preview-toggle-label">
          <span class="toggle-text">Video Previews</span>
          <div class="toggle-switch">
            <input
              type="checkbox"
              [checked]="showPreviews"
              (change)="togglePreviews()"
              class="toggle-input"
            />
            <span class="toggle-slider">
              <span class="toggle-icon">{{ showPreviews ? "🎬" : "📷" }}</span>
            </span>
          </div>
        </label>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Loading videos...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error">
    <div class="error-icon">⚠️</div>
    <h3>Error Loading Videos</h3>
    <p>{{ error }}</p>
    <button (click)="refreshVideos()" class="retry-btn">Try Again</button>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !error && videos.length === 0" class="empty-state">
    <div class="empty-icon">📁</div>
    <h3>No Videos Found</h3>
    <p>No video files were found in the media/videos directory.</p>
    <p class="hint">
      Add some video files to the backend/media/videos folder and refresh.
    </p>
  </div>

  <!-- Video Grid -->
  <div *ngIf="!loading && !error && videos.length > 0" class="video-grid">
    <app-video-card
      *ngFor="let video of videos"
      [video]="video"
      [showPreview]="showPreviews"
      (onSelectVideo)="selectVideo($event)"
    />
  </div>
</div>
